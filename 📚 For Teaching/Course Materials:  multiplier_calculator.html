<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Economic Multiplier & Budget Calculator</title>
    
    <style>
        :root {
            --primary: #059669;
            --secondary: #0d9488;
            --accent: #10b981;
            --light: #f0fdfa;
            --gray: #6b7280;
            --dark: #115e59;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, sans-serif;
            line-height: 1.6;
            color: var(--dark);
            background: linear-gradient(135deg, var(--light), white);
            padding: 2rem;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 3rem;
            padding: 2rem;
            background: var(--primary);
            color: white;
            border-radius: 12px;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .calculator-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .calculator-section {
            background: white;
            padding: 2rem;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            border-left: 4px solid var(--primary);
        }

        .section-title {
            color: var(--primary);
            font-size: 1.5rem;
            margin-bottom: 1.5rem;
            font-weight: 600;
        }

        .input-group {
            margin-bottom: 1rem;
        }

        .input-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: var(--dark);
        }

        .input-field {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid #e5e7eb;
            border-radius: 6px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }

        .input-field:focus {
            outline: none;
            border-color: var(--accent);
        }

        .calculate-btn {
            background: var(--primary);
            color: white;
            padding: 1rem 2rem;
            border: none;
            border-radius: 6px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            margin-top: 1rem;
            transition: background 0.3s;
        }

        .calculate-btn:hover {
            background: var(--secondary);
        }

        .results {
            background: var(--light);
            padding: 1.5rem;
            border-radius: 8px;
            margin-top: 1.5rem;
            border-left: 4px solid var(--accent);
        }

        .result-item {
            display: flex;
            justify-content: space-between;
            margin: 0.5rem 0;
            padding: 0.5rem;
            background: white;
            border-radius: 4px;
        }

        .result-value {
            font-weight: 600;
            color: var(--primary);
        }

        .examples {
            background: white;
            padding: 2rem;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
        }

        .example-btn {
            background: var(--accent);
            color: white;
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 6px;
            margin: 0.5rem;
            cursor: pointer;
            transition: background 0.3s;
        }

        .example-btn:hover {
            background: var(--primary);
        }

        .quiz-section {
            background: white;
            padding: 2rem;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            margin-top: 2rem;
        }

        .question {
            background: var(--light);
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1rem 0;
        }

        .answer-input {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }

        .answer-field {
            flex: 1;
            padding: 0.75rem;
            border: 2px solid #e5e7eb;
            border-radius: 6px;
        }

        .check-btn {
            background: var(--primary);
            color: white;
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 6px;
            cursor: pointer;
        }

        .feedback {
            margin-top: 1rem;
            padding: 1rem;
            border-radius: 6px;
            display: none;
        }

        .feedback.correct {
            background: #d1fae5;
            color: #065f46;
            border: 1px solid #10b981;
        }

        .feedback.incorrect {
            background: #fee2e2;
            color: #991b1b;
            border: 1px solid #ef4444;
        }

        @media (max-width: 768px) {
            .calculator-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
            
            body {
                padding: 1rem;
            }
            
            .header h1 {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>üí∞ Economic Multiplier & Budget Calculator</h1>
            <p>Master fiscal policy, multipliers, tax rates, and budget analysis with step-by-step solutions</p>
        </div>

        <!-- Calculator Grid -->
        <div class="calculator-grid">
            <!-- Multiplier Calculator -->
            <div class="calculator-section">
                <h2 class="section-title">üßÆ Multiplier Calculator</h2>
                
                <div class="input-group">
                    <label class="input-label">Multiplier (K)</label>
                    <input type="number" class="input-field" id="multiplier" value="2" step="0.1">
                </div>
                
                <div class="input-group">
                    <label class="input-label">Tax MPC (c)</label>
                    <input type="number" class="input-field" id="taxMPC" value="0.5" step="0.1">
                </div>
                
                <div class="input-group">
                    <label class="input-label">Change in Govt Spending (ŒîG) - millions</label>
                    <input type="number" class="input-field" id="deltaG" value="0">
                </div>
                
                <div class="input-group">
                    <label class="input-label">Change in Taxes (ŒîT) - millions</label>
                    <input type="number" class="input-field" id="deltaT" value="0">
                </div>

                <button class="calculate-btn" onclick="calculateMultiplier()">Calculate GDP Impact</button>

                <div id="multiplierResults" class="results" style="display: none;">
                    <div id="multiplierOutput"></div>
                </div>
            </div>

            <!-- Budget Calculator -->
            <div class="calculator-section">
                <h2 class="section-title">üìä Budget Calculator</h2>
                
                <div class="input-group">
                    <label class="input-label">GDP - billions</label>
                    <input type="number" class="input-field" id="gdp" value="800">
                </div>
                
                <div class="input-group">
                    <label class="input-label">Government Spending (G) - billions</label>
                    <input type="number" class="input-field" id="spending" value="200">
                </div>
                
                <div class="input-group">
                    <label class="input-label">Tax Rate (t) - %</label>
                    <input type="number" class="input-field" id="taxRate" value="25">
                </div>

                <button class="calculate-btn" onclick="calculateBudget()">Calculate Budget Balance</button>
                <button class="calculate-btn" onclick="findBalancedTaxRate()">Find Tax Rate for Balance</button>

                <div id="budgetResults" class="results" style="display: none;">
                    <div id="budgetOutput"></div>
                </div>
            </div>
        </div>

        <!-- Examples Section -->
        <div class="examples">
            <h2 class="section-title">üìö Sabaland Examples (K=2, c=0.5)</h2>
            <p style="margin-bottom: 1rem; color: var(--gray);">Click to load the exact scenarios from your examples:</p>
            
            <button class="example-btn" onclick="loadExample1()">Example A: +$200M Spending ‚Üí $400M GDP</button>
            <button class="example-btn" onclick="loadExample2()">Example B: -$200M Tax ‚Üí $200M GDP</button>
            <button class="example-btn" onclick="loadExample3()">Example F: GDP=$800B, G=$200B ‚Üí t=25%</button>
            <button class="example-btn" onclick="loadExample4()">Example G: GDP=$600B, G=$150B, t=30% ‚Üí $30B surplus</button>
        </div>

        <!-- Quiz Section -->
        <div class="quiz-section">
            <h2 class="section-title">üîÑ Practice Problems</h2>
            <button class="calculate-btn" onclick="generateQuiz()" style="margin-bottom: 2rem;">Generate Random Problem</button>
            
            <div id="quizContainer"></div>
        </div>
    </div>

    <script>
        // Global variables
        let currentProblem = null;

        // Multiplier Calculator
        function calculateMultiplier() {
            const K = parseFloat(document.getElementById('multiplier').value) || 0;
            const c = parseFloat(document.getElementById('taxMPC').value) || 0;
            const deltaG = parseFloat(document.getElementById('deltaG').value) || 0;
            const deltaT = parseFloat(document.getElementById('deltaT').value) || 0;
            
            const gdpFromG = deltaG * K;
            const deltaC = deltaT * c;
            const gdpFromT = deltaC * K;
            const totalGDP = gdpFromG + gdpFromT;
            
            let output = '';
            
            if (deltaG !== 0) {
                output += `<div class="result-item">
                    <span>GDP from Spending Change:</span>
                    <span class="result-value">$${gdpFromG.toFixed(0)} million</span>
                </div>
                <div style="font-family: monospace; color: var(--gray); padding: 0.5rem;">
                    ŒîGDP = ŒîG √ó K = ${deltaG} √ó ${K} = $${gdpFromG.toFixed(0)} million
                </div>`;
            }
            
            if (deltaT !== 0) {
                output += `<div class="result-item">
                    <span>GDP from Tax Change:</span>
                    <span class="result-value">$${gdpFromT.toFixed(0)} million</span>
                </div>
                <div style="font-family: monospace; color: var(--gray); padding: 0.5rem;">
                    ŒîC = ŒîT √ó c = ${deltaT} √ó ${c} = $${deltaC.toFixed(0)} million<br>
                    ŒîGDP = ŒîC √ó K = ${deltaC.toFixed(0)} √ó ${K} = $${gdpFromT.toFixed(0)} million
                </div>`;
            }
            
            output += `<div class="result-item" style="background: var(--light); font-weight: bold;">
                <span>Total GDP Change:</span>
                <span class="result-value" style="font-size: 1.2rem;">$${totalGDP.toFixed(0)} million</span>
            </div>`;
            
            document.getElementById('multiplierOutput').innerHTML = output;
            document.getElementById('multiplierResults').style.display = 'block';
        }

        // Budget Calculator
        function calculateBudget() {
            const gdp = parseFloat(document.getElementById('gdp').value) || 0;
            const spending = parseFloat(document.getElementById('spending').value) || 0;
            const taxRate = parseFloat(document.getElementById('taxRate').value) || 0;
            
            const taxRevenue = (taxRate / 100) * gdp;
            const balance = taxRevenue - spending;
            const balanceType = balance > 0 ? 'Surplus' : (balance < 0 ? 'Deficit' : 'Balanced');
            
            const output = `
                <div class="result-item">
                    <span>Tax Revenue:</span>
                    <span class="result-value">$${taxRevenue.toFixed(0)} billion</span>
                </div>
                <div class="result-item">
                    <span>Government Spending:</span>
                    <span class="result-value">$${spending.toFixed(0)} billion</span>
                </div>
                <div class="result-item" style="background: var(--light); font-weight: bold;">
                    <span>Budget ${balanceType}:</span>
                    <span class="result-value" style="font-size: 1.2rem;">$${Math.abs(balance).toFixed(0)} billion</span>
                </div>
                <div style="font-family: monospace; color: var(--gray); padding: 0.5rem;">
                    T = t √ó GDP = ${taxRate}% √ó $${gdp}B = $${taxRevenue.toFixed(0)}B<br>
                    Balance = T - G = $${taxRevenue.toFixed(0)}B - $${spending.toFixed(0)}B = $${balance.toFixed(0)}B
                </div>
            `;
            
            document.getElementById('budgetOutput').innerHTML = output;
            document.getElementById('budgetResults').style.display = 'block';
        }

        function findBalancedTaxRate() {
            const gdp = parseFloat(document.getElementById('gdp').value) || 0;
            const spending = parseFloat(document.getElementById('spending').value) || 0;
            
            if (gdp === 0) {
                alert('Please enter GDP value');
                return;
            }
            
            const requiredTaxRate = (spending / gdp) * 100;
            
            const output = `
                <div class="result-item" style="background: var(--light); font-weight: bold;">
                    <span>Required Tax Rate for Balanced Budget:</span>
                    <span class="result-value" style="font-size: 1.2rem;">${requiredTaxRate.toFixed(1)}%</span>
                </div>
                <div style="font-family: monospace; color: var(--gray); padding: 0.5rem;">
                    For balanced budget: G = T<br>
                    Since T = t √ó GDP: G = t √ó GDP<br>
                    Therefore: t = G/GDP = $${spending}B/$${gdp}B = ${requiredTaxRate.toFixed(1)}%
                </div>
            `;
            
            document.getElementById('budgetOutput').innerHTML = output;
            document.getElementById('budgetResults').style.display = 'block';
            document.getElementById('taxRate').value = requiredTaxRate.toFixed(1);
        }

        // Example Functions
        function loadExample1() {
            // Example A: +$200M Government Spending
            document.getElementById('multiplier').value = '2';
            document.getElementById('taxMPC').value = '0.5';
            document.getElementById('deltaG').value = '200';
            document.getElementById('deltaT').value = '0';
            calculateMultiplier();
        }

        function loadExample2() {
            // Example B: -$200M Tax Reduction
            document.getElementById('multiplier').value = '2';
            document.getElementById('taxMPC').value = '0.5';
            document.getElementById('deltaG').value = '0';
            document.getElementById('deltaT').value = '-200';
            calculateMultiplier();
        }

        function loadExample3() {
            // Example F: GDP=$800B, G=$200B ‚Üí t=25%
            document.getElementById('gdp').value = '800';
            document.getElementById('spending').value = '200';
            findBalancedTaxRate();
        }

        function loadExample4() {
            // Example G: GDP=$600B, G=$150B, t=30% ‚Üí $30B surplus
            document.getElementById('gdp').value = '600';
            document.getElementById('spending').value = '150';
            document.getElementById('taxRate').value = '30';
            calculateBudget();
        }

        // Quiz System
        function generateQuiz() {
            const problems = [
                {
                    type: 'multiplier',
                    question: 'Country A has multiplier K = 2.5. Government spending increases by $300 million. Calculate the change in GDP.',
                    answer: 750,
                    solution: 'ŒîGDP = ŒîG √ó K = 300 √ó 2.5 = $750 million'
                },
                {
                    type: 'tax_rate',
                    question: 'Economy B has GDP = $1000 billion and government spending = $250 billion. What tax rate will balance the budget?',
                    answer: 25,
                    solution: 't = G/GDP = 250/1000 = 0.25 = 25%'
                },
                {
                    type: 'budget',
                    question: 'Country C has GDP = $800 billion, G = $180 billion, t = 25%. Calculate the budget balance.',
                    answer: 20,
                    solution: 'T = 25% √ó 800 = $200B; Balance = T - G = 200 - 180 = $20B surplus'
                },
                {
                    type: 'tax_multiplier',
                    question: 'Economy D has K = 3, c = 0.6. Taxes are reduced by $100 million. Calculate GDP change.',
                    answer: 180,
                    solution: 'ŒîC = ŒîT √ó c = (-100) √ó 0.6 = $60M; ŒîGDP = ŒîC √ó K = 60 √ó 3 = $180M'
                }
            ];

            currentProblem = problems[Math.floor(Math.random() * problems.length)];
            
            const container = document.getElementById('quizContainer');
            container.innerHTML = `
                <div class="question">
                    <h3 style="margin-bottom: 1rem; color: var(--primary);">Practice Problem</h3>
                    <p style="margin-bottom: 1rem;"><strong>${currentProblem.question}</strong></p>
                    <div class="answer-input">
                        <input type="number" class="answer-field" id="answerInput" placeholder="Enter your answer" step="0.1">
                        <span style="padding: 0.75rem; color: var(--gray);">${currentProblem.type === 'tax_rate' ? '%' : (currentProblem.type === 'budget' ? 'billion' : 'million')}</span>
                        <button class="check-btn" onclick="checkAnswer()">Check</button>
                    </div>
                    <div id="feedback" class="feedback"></div>
                </div>
            `;
        }

        function checkAnswer() {
            const userAnswer = parseFloat(document.getElementById('answerInput').value);
            const correctAnswer = currentProblem.answer;
            const tolerance = Math.abs(correctAnswer) * 0.02 + 0.5; // 2% tolerance
            
            const isCorrect = Math.abs(userAnswer - correctAnswer) <= tolerance;
            const feedback = document.getElementById('feedback');
            
            feedback.style.display = 'block';
            
            if (isCorrect) {
                feedback.className = 'feedback correct';
                feedback.innerHTML = `<strong>‚úÖ Correct!</strong> The answer is ${correctAnswer}.<br><br><strong>Solution:</strong> ${currentProblem.solution}`;
            } else {
                feedback.className = 'feedback incorrect';
                feedback.innerHTML = `<strong>‚ùå Incorrect.</strong> Your answer: ${userAnswer}. Correct answer: ${correctAnswer}.<br><br><strong>Solution:</strong> ${currentProblem.solution}`;
            }
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Economic Multiplier & Budget Calculator loaded successfully!');
        });
    </script>
</body>
</html>
