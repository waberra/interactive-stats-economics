<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Sample vs. Population Quiz</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      font-family: "Trebuchet MS", sans-serif;
      padding: 20px;
      background: #1e1e1e; /* dark chalkboard */
      display: flex;
      justify-content: center;
      color: white;
    }
    .container {
      max-width: 900px;
      width: 100%;
    }

    /* Sticky Note Title */
    .header-box {
      background: #ffe95b;           /* neon yellow sticky */
      color: #1b1b1b;
      padding: 18px;
      border-radius: 10px;
      box-shadow: 0 4px 12px #00000060;
      margin-bottom: 20px;
      border: 3px solid #fff;
    }
    .header-box h1 {
      margin: 0 0 10px 0;
    }

    /* Question card */
    #question-card {
      margin: 12px 0;
      padding: 16px;
      background: #6c4cff;           /* neon purple */
      border: 2px solid #fff5;
      border-radius: 12px;
      box-shadow: 0 0 10px #6c4cff80;
      display: none;                 /* shown after questions are generated */
    }
    #question-text {
      font-weight: bold;
      margin-bottom: 8px;
    }
    #progress {
      font-size: 0.9em;
      margin-bottom: 10px;
      opacity: 0.9;
    }
    .options {
      margin-top: 6px;
      margin-bottom: 8px;
    }
    .options label {
      margin-right: 12px;
      cursor: pointer;
      color: #fff;
    }
    .options input {
      margin-right: 4px;
    }
    #warning {
      font-size: 0.9em;
      color: #ffb3c6;
      min-height: 1.2em;
    }

    /* Neon Feedback / results */
    .feedback {
      margin-top: 6px;
      font-size: 0.95em;
      font-weight: bold;
    }
    .correct {
      color: #3bffdd;                /* electric aqua */
      text-shadow: 0 0 7px #3bffdd;
    }
    .incorrect {
      color: #ff4d6d;                /* neon red */
      text-shadow: 0 0 7px #ff4d6d;
    }

    /* Result summary */
    #results {
      margin-top: 20px;
    }
    .result-item {
      margin: 10px 0;
      padding: 10px;
      background: #2b2b2b;
      border-radius: 8px;
      border: 1px solid #444;
    }

    /* Buttons */
    .buttons {
      margin-top: 20px;
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }
    button {
      padding: 10px 16px;
      border-radius: 6px;
      border: none;
      cursor: pointer;
      font-size: 0.95em;
      background: #32ff7e;           /* glow green */
      color: #1b1b1b;
      font-weight: bold;
      box-shadow: 0 0 10px #32ff7e;
    }
    button:hover {
      background: #45ff90;
      box-shadow: 0 0 15px #45ff90;
    }
  </style>
</head>

<body>
  <div class="container">

    <div class="header-box">
      <h1>ðŸ“˜ Sample vs. Population Quiz</h1>
      <p>
        You will answer <strong>10 questions</strong>, one at a time.  
        For each statement, decide whether it describes a <strong>Sample</strong> or a <strong>Population</strong>.  
        At the end, youâ€™ll see your <strong>score</strong> and explanations.
      </p>
    </div>

    <!-- Question card -->
    <div id="question-card">
      <div id="progress"></div>
      <div id="question-text"></div>
      <div class="options">
        <label>
          <input type="radio" name="answer" value="sample">
          Sample
        </label>
        <label>
          <input type="radio" name="answer" value="population">
          Population
        </label>
      </div>
      <div id="warning"></div>
    </div>

    <div class="buttons">
      <button id="start-btn" onclick="startBatch()">â–¶ Start New Batch</button>
      <button id="next-btn" onclick="nextQuestion()" style="display:none;">Next Question â–¶</button>
    </div>

    <div id="results"></div>

  </div>

  <script>
    const NUM_QUESTIONS = 10;

    const sampleStarters = [
      "50 randomly selected", "100 surveyed", "25 participants chosen",
      "A sample of", "80 chosen", "30 surveyed", "20 selected",
      "A chosen group of", "75 surveyed", "A randomly picked group of"
    ];

    const populationStarters = [
      "All", "Every", "The entire group of", "Each and every", "100% of",
      "All registered", "All enrolled", "All residents", "All members of",
      "All recorded"
    ];

    const subjects = [
      "students in a school", "patients in a hospital", "citizens of a city",
      "employees in a company", "basketball players in a league", "drivers in a state",
      "voters in an election", "teachers in a district", "teenagers in a town",
      "customers at a store", "college students", "workers in a factory",
      "athletes at a tournament", "residents in a village", "passengers on a flight"
    ];

    let questionsData = [];         // { text, type }
    let userAnswers = [];           // "sample" | "population" | null
    let currentIndex = 0;

    function randomItem(list) {
      return list[Math.floor(Math.random() * list.length)];
    }

    function buildSentence(type) {
      return type === "sample"
        ? `${randomItem(sampleStarters)} ${randomItem(subjects)}.`
        : `${randomItem(populationStarters)} ${randomItem(subjects)}.`;
    }

    function explanation(type) {
      return type === "sample"
        ? "This is a sample because it includes only part of the group."
        : "This is a population because it includes every member of the entire group.";
    }

    function startBatch() {
      // Create new batch
      questionsData = [];
      userAnswers = new Array(NUM_QUESTIONS).fill(null);
      currentIndex = 0;
      document.getElementById("results").innerHTML = "";

      for (let i = 0; i < NUM_QUESTIONS; i++) {
        const type = Math.random() < 0.5 ? "sample" : "population";
        const text = buildSentence(type);
        questionsData.push({ text, type });
      }

      document.getElementById("start-btn").textContent = "ðŸ” Restart Batch";
      document.getElementById("question-card").style.display = "block";
      document.getElementById("next-btn").style.display = "inline-block";
      renderQuestion();
    }

    function renderQuestion() {
      const q = questionsData[currentIndex];
      const qText = document.getElementById("question-text");
      const progress = document.getElementById("progress");
      const warning = document.getElementById("warning");

      qText.textContent = `${currentIndex + 1}. ${q.text}`;
      progress.textContent = `Question ${currentIndex + 1} of ${NUM_QUESTIONS}`;
      warning.textContent = "";

      // clear radios
      const radios = document.querySelectorAll('input[name="answer"]');
      radios.forEach(r => r.checked = false);

      // if this question already answered (when moving back in future versions)
      if (userAnswers[currentIndex]) {
        const val = userAnswers[currentIndex];
        const radioToCheck = document.querySelector(`input[name="answer"][value="${val}"]`);
        if (radioToCheck) radioToCheck.checked = true;
      }

      // Change button label on last question
      const nextBtn = document.getElementById("next-btn");
      nextBtn.textContent = (currentIndex === NUM_QUESTIONS - 1)
        ? "âœ… Finish & Grade"
        : "Next Question â–¶";
    }

    function nextQuestion() {
      const warning = document.getElementById("warning");
      const selected = document.querySelector('input[name="answer"]:checked');

      if (!selected) {
        warning.textContent = "Please choose Sample or Population before continuing.";
        return;
      }

      warning.textContent = "";
      userAnswers[currentIndex] = selected.value;

      if (currentIndex < NUM_QUESTIONS - 1) {
        currentIndex++;
        renderQuestion();
      } else {
        gradeQuiz();
      }
    }

    function gradeQuiz() {
      let correctCount = 0;
      const resultsDiv = document.getElementById("results");
      resultsDiv.innerHTML = "";

      questionsData.forEach((q, idx) => {
        const user = userAnswers[idx];
        const correct = q.type;
        const isCorrect = user === correct;
        if (isCorrect) correctCount++;

        const item = document.createElement("div");
        item.className = "result-item";

        let userText = user ? user : "(no answer)";
        item.innerHTML = `
          <div><strong>Question ${idx + 1}:</strong> ${q.text}</div>
          <div>Your answer: <strong>${userText}</strong></div>
          <div>Correct answer: <strong>${correct}</strong></div>
          <div class="${isCorrect ? "correct" : "incorrect"}">
            ${isCorrect ? "Correct!" : "Incorrect."} ${explanation(correct)}
          </div>
        `;
        resultsDiv.appendChild(item);
      });

      const scoreP = document.createElement("p");
      scoreP.className = "feedback";
      scoreP.innerHTML = `You scored <span class="correct">${correctCount} / ${NUM_QUESTIONS}</span>.`;
      resultsDiv.prepend(scoreP);

      // Optionally keep the last question visible, but quiz is done
      document.getElementById("next-btn").style.display = "none";
    }

    // Ready to go â€“ user clicks "Start New Batch" to begin
  </script>
</body>
</html>
